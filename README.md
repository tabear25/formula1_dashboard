# F1 Data Dashboard (WIP)
## これは何（What's this?）
F1のレースデータを視覚化し、分析するためのデスクトップアプリケーションです。FastF1ライブラリを利用して、過去のグランプリのセッションデータ（ラップタイム、テレメトリ、順位など）を取得し、インタラクティブなグラフやマップで表示します。

## 前提条件（Prerequisites）
- Python 3.9 以上 (FastF1の推奨環境に準拠)
- インターネット接続（FastF1がデータをダウンロードするために必要です）
- (オプション) `config.py` で設定するキャッシュディレクトリへの書き込み権限

## 必要なライブラリ（Required Libraries）
`requirements.txt`にまとめてあるので、以下のコマンドで全てインストールしてください。
```
pip install -r requirements.txt
```
主なライブラリは以下の通りです:
- fastf1: F1データ取得のコアライブラリ
- pandas: データ操作
- matplotlib, seaborn: プロット描画
- tkinter: GUIフレームワーク

# 使い方（How to Use）
## 1. 準備（Preparation）
### リポジトリのクローンまたはダウンロード
このプロジェクトのファイルをローカル環境に配置します。

### 依存ライブラリのインストール
ターミナルまたはコマンドプロンプトでプロジェクトのルートディレクトリに移動し、上記の「必要なライブラリ」セクションのコマンドを実行して、必要なPythonライブラリをインストールします。

### 設定ファイル `config.py` の確認 (任意)
- `CACHE_DIR`: FastF1がダウンロードしたデータを保存するキャッシュディレクトリの場所です。デフォルトはプロジェクトルート直下の `_fastf1_cache` です。必要に応じて変更できます。
- `CACHE_SIZE_LIMIT_GB`: キャッシュの最大サイズ（GB）。
- `CACHE_EXPIRE_DAYS`: キャッシュされたファイルの有効期限（日数）。
- `COLOR_...`: アプリケーションのテーマカラー。好みに合わせて変更可能です。
- `MPL_STYLE`: Matplotlibのプロットスタイル。`'fastf1'` を指定するとFastF1公式のスタイルが適用されます。`None` にするとMatplotlibのデフォルトになります。

---

## 2. 実行する（Run the Application）

全ての設定（特にライブラリのインストール）が完了したら、プロジェクトのルートディレクトリで以下のコマンドを実行してアプリケーションを起動します。

```
python main.py
```

## 3. アプリケーションの操作
### 3.1 データ選択
- **開催年**: 左側のサイドバー上部にあるリストから、分析したいF1シーズン（年）を選択します。  
- **グランプリ**: 選択した年に開催されたグランプリのリストが中央に表示されるので、目的のグランプリを選択します。  
- **セッション**: グランプリを選択後、その下のドロップダウンリストからセッションタイプ（FP1, FP2, FP3, Q, Rなど）を選択します。  
  - セッションを選択すると、データのロードが開始されます（プログレスバーが表示されます）。

### 3.2 ドライバー選択
- セッションデータが正常にロードされると、サイドバー下部にそのセッションに参加したドライバーのリストが表示されます。  
- 分析したいドライバーをリストから選択します（一部の機能では複数選択可能）。

### 3.3 分析機能の実行
- ドライバーを選択後、サイドバーにある各種分析ボタン（例: 「テレメトリ (単一)」「速度比較 (複数)」など）をクリックします。  
- 選択した分析結果がメインエリアの対応するタブに表示されます。

#### 主なタブ
- 🏁 **Overview**: アプリケーションの初期画面。  
- 🗺️ **Map**: 選択セッションのサーキットマップと最速ラップの軌跡。  
- 📈 **Telemetry (Single)**: 単一ドライバーの最速ラップの速度テレメトリ。  
- 📈 **Lap Scatter (Single)**: 単一ドライバーのラップタイム散布図。  
- 📊 **LapTime Compare**: 複数ドライバーのラップタイム比較（バイオリンプロット）。  
- 🏎️ **Speed Compare**: 複数ドライバーの最速ラップ速度比較。  
- 📊 **Scatter Compare**: 複数ドライバーのラップタイム散布図比較。

### 3.4 サイドバーの幅調整
- サイドバーとメインエリアの境界線は、マウスでドラッグして幅を調整できます。
- アクティブに変更するものではないので、幅を変更した後にクリックをするとその幅での読み込み・適応が実行されます
---

## 注意点（Notes）
- 初回データロード時やキャッシュがない場合は、FastF1がF1公式サイトなどからデータをダウンロードするため、時間がかかることがあります。
- 2回目以降はキャッシュが利用されるため、表示が高速になります。
- データの取得には安定したインターネット接続が必要です。  
- 表示されるデータはFastF1ライブラリが提供するものであり、その正確性や完全性はFastF1およびデータソースに依存します。  
- 一部の古いシーズンのデータや特殊なセッションでは、利用可能なデータが限られている場合があります。  
- 本アプリケーションは開発中のものであり、予期せぬエラーが発生する可能性があります。